{% extends 'pages/layout.html.twig' %}
{% import "components/collection/collection.macro.twig" as collectionMacros %}
{% block title %}
	Portfolio Collaboration
{% endblock %}

{% block body %}
	<div>
		<h1 class="text-3xl text-center m-8 hidden">Bienvenue sur vote profile!</h1>

		{% include "components/utilisateur/infos-utilisateurs.html.twig" %}

		<section>
			<h2 class="text-3xl text-center m-8 font-extrabold">
				Collections de
				{{utilisateur.pseudo}}
			</h2>
			<ul class="flex flex-wrap max-w-9xl justify-center py-4 gap-4">
				<li class="w-full shadow-md flex flex-col gap-2 max-w-[300px] md:w-1/2 xl:w-1/3">
					<div class="bg-secondary max-h-[300px] h-full w-full flex justify-center items-center">
						<svg width="150" height="150" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="m-auto">
							<path d="M18 22H4a2 2 0 0 1-2-2V6"/>
							<path d="m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18"/>
							<circle cx="12" cy="8" r="2"/>
							<rect width="16" height="16" x="6" y="2" rx="2"/>
						</svg>
					</div>
					<div class="bg-neutral-50 p-4 space-y-4">
						<p>Créez une nouvelle collection.</p>
						<a href={{path('app_collections_create')}} class="w-full bg-primary rounded flex gap-2 p-2">
							{% include "components/icons/ajouter.icon.twig" %}
							<span class='text-secondary'>Nouvelle collection</span>
						</a>
					</div>
				</li>

				{% for collection in utilisateur.collections %}
					<li class="w-full shadow-md flex flex-col gap-2 max-w-[300px] md:w-1/2 xl:w-1/3">
						<a href={{path('app_collection_page', {id:collection.id} )}}>
							{% set coverName = collection.cover|default('default_cover.svg') %}
							<img src={{ asset("images/covers/" ~ coverName) }} class="max-h-[300px]">

							<div class="p-4">
								<p class="font-extrabold text-center text-xl">{{collection.titre}}</p>
								<p>{{collection.description}}</p>

								<p class="py-2">
									<span class="font-extrabold">Catégorie:
									</span>
									<span>{{collection.categorie}}</span>
								</p>

								{{collectionMacros.tags(collection.tags)}}
								<p class="text-right text-sm text-primary/75">{{ collection.date|date('d/m/y') }}</p>
							</div>
						</a>
					</li>
				{% endfor %}
			</ul>

		</section>
	</div>
{% endblock %}
